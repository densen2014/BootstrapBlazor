(function(n){n.extend({bb_modal_dialog:function(t,i,r){var u=n(t);u.data("bb_dotnet_invoker",{obj:i,method:r})},bb_modal:function(t,i){var u=n(t),o,s;if(i==="dispose")u.remove();else if(i==="init"){if(u.closest(".swal").length===0){n("body").append(u);var h=0,c=0,e=0,l=0,f={top:0,left:0},r=null;u.find(".is-draggable .modal-header").drag(function(n){h=n.clientX||n.touches[0].clientX;c=n.clientY||n.touches[0].clientY;r=this.closest(".modal-dialog");e=r.width();l=r.height();f.top=parseInt(r.css("marginTop").replace("px",""));f.left=parseInt(r.css("marginLeft").replace("px",""));r.css({marginLeft:f.left,marginTop:f.top});r.removeClass("modal-dialog-centered");r.css("width",e);this.addClass("is-drag")},function(t){var i=t.clientX||t.changedTouches[0].clientX,u=t.clientY||t.changedTouches[0].clientY;newValX=f.left+Math.ceil(i-h);newValY=f.top+Math.ceil(u-c);newValX<=0&&(newValX=0);newValY<=0&&(newValY=0);newValX+e<n(window).width()&&r!=null&&r.css({marginLeft:newValX});newValY+l<n(window).height()&&r!=null&&r.css({marginTop:newValY})},function(){this.removeClass("is-drag")})}u.on("shown.bs.modal",function(){var t=u.data("keyboard");if(t===!0)n(document).one("keyup",function(n){if(n.key==="Escape"){var i=u.find(".modal-dialog"),t=i.data("bb_dotnet_invoker");t!=null&&t.obj.invokeMethodAsync(t.method)}})})}else i!=="hide"&&i!=="dispose"&&(o=u.attr("data-keyboard")==="false",s=u.data("bs.modal"),s!=null&&(s._config.keyboard=!o,console.log(!o))),u.modal(i)}})})(jQuery);