(function(n){window.chartColors={red:"rgb(255, 99, 132)",blue:"rgb(54, 162, 235)",green:"rgb(75, 192, 192)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",tomato:"rgb(255, 99, 71)",pink:"rgb(255, 192, 203)",violet:"rgb(238, 130, 238)"};window.lineOption={useSegment:!0,skipped:(n,t)=>n.p0.skip||n.p1.skip?t:undefined,down:(n,t)=>n.p0.parsed.y>n.p1.parsed.y?t:undefined,genericOptions:{fill:!1,interaction:{intersect:!1},radius:0}};window.chartOption={options:{responsive:!0,title:{display:!0,text:"Chart"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}]}}};n.extend({getChartOption:function(t){var u=[],f,i,r;for(f in window.chartColors)u.push(f);return i={},r=null,t.type==="line"?(lineOption.useSegment&&n.isArray(t.data)&&n.each(t.data,function(i,r){n.each(r.data,function(n,r){r===null&&(t.data[i].data[n]=NaN,t.data[i].segment===undefined&&(t.data[i].segment={borderColor:n=>lineOption.skipped(n,"rgb(0,0,0,0.2)"),borderDash:n=>lineOption.skipped(n,[6,6])}))})}),i=n.extend(!0,{},chartOption),r=function(t){var i=chartColors[u.shift()];n.extend(t,{backgroundColor:i,borderColor:i})}):t.type==="bar"?(chartOption.scales=n.extend(!0,chartOption.scales,{x:{stacked:!0},y:{stacked:!0}}),i=n.extend(!0,{},chartOption),console.log(i),r=function(t){var i=chartColors[u.shift()];n.extend(t,{backgroundColor:Chart.helpers.color(i).alpha(.5).rgbString(),borderColor:i,borderWidth:1})}):t.type==="pie"||t.type==="doughnut"?(i=n.extend(!0,{},chartOption),r=function(t){n.extend(t,{backgroundColor:u.slice(0,t.data.length).map(function(n){return chartColors[n]})})},t.type==="doughnut"&&n.extend(i.options,{cutoutPercentage:50,animation:{animateScale:!0,animateRotate:!0}})):t.type==="bubble"&&(i=n.extend(!0,{},chartOption,{data:{animation:{duration:1e4}},options:{tooltips:{mode:"point"}}}),r=function(t){var i=chartColors[u.shift()];n.extend(t,{backgroundColor:Chart.helpers.color(i).alpha(.5).rgbString(),borderWidth:1,borderColor:i})}),n.each(t.data,function(){r(this)}),n.extend(!0,i,{type:t.type,data:{labels:t.labels,datasets:t.data},options:{responsive:t.options.responsive,title:t.options.title,scales:{xAxes:t.options.xAxes.map(function(n){return{display:t.options.showXAxesLine,scaleLabel:n}}),yAxes:t.options.yAxes.map(function(n){return{display:t.options.showYAxesLine,scaleLabel:n}})}}})},updateChart:function(n,t){t.updateMethod==="addDataset"?n.data.datasets.push(t.data.datasets.pop()):t.updateMethod==="removeDataset"?n.data.datasets.pop():t.updateMethod==="addData"?n.data.datasets.length>0&&(n.data.labels.push(t.data.labels.pop()),n.data.datasets.forEach(function(n,i){n.data.push(t.data.datasets[i].data.pop());(t.type==="pie"||t.type==="doughnut")&&n.backgroundColor.push(t.data.datasets[i].backgroundColor.pop())})):t.updateMethod==="removeData"?(n.data.labels.pop(),n.data.datasets.forEach(function(n){n.data.pop();(t.type==="pie"||t.type==="doughnut")&&n.backgroundColor.pop()})):t.updateMethod==="setAngle"?t.type==="doughnut"&&(t.angle===360?(n.options.circumference=Math.PI,n.options.rotation=-Math.PI):(n.options.circumference=2*Math.PI,n.options.rotation=-Math.PI/2)):n.data.datasets.forEach(function(n,i){n.data=t.data.datasets[i].data})},chart:function(t,i,r,u,f,e,o){var c,h,s;n.isFunction(Chart)&&(c=n(t),u.type=e,h=c.data("chart"),h?(s=n.getChartOption(u),s.angle=o,s.updateMethod=f,n.updateChart(h.config,s),h.update()):(s=n.getChartOption(u),c.data("chart",h=new Chart(t.getElementsByTagName("canvas"),s)),c.removeClass("is-loading").trigger("chart.afterInit"),i.invokeMethodAsync(r)))}})})(jQuery);